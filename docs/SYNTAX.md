# Спецификация синтаксиса ProcessLang

ProcessLang — декларативный DSL для координации AI-систем через процесс-ориентированные концепции.

---

## Оглавление

1. [Базовая структура](#базовая-структура)
2. [Команды](#команды)
3. [Типы данных](#типы-данных)
4. [Комментарии](#комментарии)
5. [Ограничения и правила](#ограничения-и-правила)
6. [Механизм интерпретации](#механизм-интерпретации)
7. [Комбинирование команд](#комбинирование-команд)
8. [Примеры программ](#примеры-программ)
9. [Быстрая справка](#быстрая-справка)

---

## Базовая структура

Программа на ProcessLang состоит из последовательности команд (максимум 5) и обязательного запроса в конце:

```
COMMAND param1=value1 param2=value2
COMMAND param1=value1
...
QUERY: Ваш вопрос или запрос
```

**Правила:**
- Команды выполняются последовательно
- Каждая команда добавляет слой контекста
- Запрос всегда последний
- Пустые строки игнорируются
- Порядок команд имеет значение

---

## Команды

### FLOW

Инициирует процессуальный поток, устанавливает базовый режим обработки запроса.

**Концептуальная функция:**
- Определяет степень текучести мышления AI
- Высокий `engagement` = глубокое погружение в задачу
- Низкий `resistance` = минимальное сопротивление нестандартным путям решения

**Параметры:**

| Параметр | Тип | Диапазон | Описание |
|----------|-----|----------|----------|
| `engagement` | float | 0.0-1.0 | Уровень вовлечённости в процесс |
| `resistance` | float | 0.0-1.0 | Уровень сопротивления потоку |

**Типичные значения:**
- `engagement=0.9 resistance=0.1` — максимальная текучесть, творческий подход
- `engagement=0.5 resistance=0.5` — сбалансированный режим
- `engagement=0.3 resistance=0.8` — осторожный, консервативный подход

**Примеры:**
```
FLOW engagement=0.95 resistance=0.05
# Режим максимальной открытости и текучести

FLOW engagement=0.7 resistance=0.3
# Умеренный режим для технических задач
```

---

### CONNECT

Создаёт глубокие связи между концепциями, активирует междоменное мышление.

**Концептуальная функция:**
- Заставляет AI искать неочевидные связи между понятиями
- Чем выше `depth`, тем более абстрактные связи рассматриваются
- Позволяет синтезировать знания из разных областей

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `depth` | float (0.0-1.0) | Глубина связи между концепциями |
| `between` | list[string] | Список концепций для соединения (2-10 элементов) |

**Рекомендации:**
- 2-3 концепции для фокусированного анализа
- 4-6 концепций для системного мышления
- 7-10 концепций для панорамного обзора

**Примеры:**
```
CONNECT depth=0.9 between=["квантовая_механика", "буддизм", "теория_информации"]
# Глубокий поиск паттернов между тремя доменами

CONNECT depth=0.6 between=["маркетинг", "психология"]
# Умеренная связь между смежными областями
```

---

### DISSOLVE

Растворяет жёсткие концептуальные рамки, деконструирует устоявшиеся паттерны мышления.

**Концептуальная функция:**
- Ослабляет фиксированные определения и категории
- Позволяет увидеть явления с непривычных углов
- Высокая `rigidity` = более агрессивная деконструкция

**Параметры:**

| Параметр | Тип | Диапазон | Описание |
|----------|-----|----------|----------|
| `rigidity` | float | 0.0-1.0 | Уровень жёсткости для растворения |
| `target` | string | - | Что именно растворять |

**Типичные цели (target):**
- Концептуальные рамки: `"определения"`, `"категории"`, `"бинарности"`
- Системные паттерны: `"иерархии"`, `"причинность"`, `"линейность"`
- Культурные конструкты: `"нормы"`, `"ценности"`, `"традиции"`

**Примеры:**
```
DISSOLVE rigidity=0.85 target="дихотомия добро-зло"
# Сильное растворение бинарного мышления

DISSOLVE rigidity=0.4 target="академический стиль"
# Мягкое ослабление формальности
```

---

### ENCODE

Применяет структурирование и организацию информации, но с осознанием неизбежной потери.

**Концептуальная функция:**
- Создаёт структуру вывода
- Параметр `loss` явно признаёт редукцию при кодировании
- Разные типы кодирования создают разные линзы восприятия

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `type` | string | Тип структуры (см. ниже) |
| `loss` | float (0.0-1.0) | Приемлемая потеря информации |

**Типы кодирования:**
- `"hierarchy"` — иерархическая структура
- `"sequence"` — последовательная структура
- `"network"` — сетевая структура
- `"category"` — категориальная структура
- `"narrative"` — нарративная структура
- `"spatial"` — пространственная организация

**Примеры:**
```
ENCODE type="hierarchy" loss=0.2
# Иерархическая структура с низкой потерей детальности

ENCODE type="narrative" loss=0.5
# Нарративная форма, допускающая значительное упрощение
```

---

### CHOOSE

Активирует механизм выбора из множества возможностей.

**Концептуальная функция:**
- Коллапсирует пространство возможных ответов
- Метод влияет на критерии отбора
- Полезно когда нужно сделать конкретный выбор из альтернатив

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `space` | list[string] | Пространство возможностей |
| `method` | string | Метод выбора (см. ниже) |

**Методы выбора:**
- `"conscious"` — осознанный выбор с обоснованием
- `"unconscious"` — интуитивный выбор
- `"forced"` — выбор при невозможности отказаться
- `"random"` — случайный выбор

**Примеры:**
```
CHOOSE space=["фреймворк_A", "фреймворк_B", "фреймворк_C"] method="conscious"
# Осознанный выбор между технологиями

CHOOSE space=["продолжить", "остановиться"] method="forced"
# Принудительный выбор в дилемме
```

---

### OBSERVE

Активирует самонаблюдение процесса мышления AI.

**Концептуальная функция:**
- Создаёт метакогнитивный слой
- Низкая дистанция = погружение в процесс
- Высокая дистанция = отстранённое наблюдение

**Параметры:**

| Параметр | Тип | Диапазон | Описание |
|----------|-----|----------|----------|
| `distance` | float | 0.0-1.0 | Дистанция наблюдения |
| `target` | string | - | Объект наблюдения |

**Типичные объекты наблюдения:**
- `"процесс_мышления"` — сам процесс генерации ответа
- `"предположения"` — скрытые допущения
- `"ограничения"` — рамки анализа
- `"паттерны"` — повторяющиеся структуры

**Примеры:**
```
OBSERVE distance=0.1 target="процесс_генерации_ответа"
# Близкое наблюдение за собственным мышлением

OBSERVE distance=0.8 target="использованные_метафоры"
# Отстранённый анализ языковых паттернов
```

---

### CYCLE

Инициирует циклическое, рекурсивное мышление.

**Концептуальная функция:**
- Позволяет многократно пересматривать вопрос
- Разные режимы задают характер цикла
- Интенсивность определяет количество итераций

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `mode` | string | Режим цикла (см. ниже) |
| `intensity` | float (0.0-1.0) | Интенсивность циклирования |

**Режимы:**
- `"stable"` — стабильный цикл с фиксированными параметрами
- `"intense"` — усиливающийся цикл
- `"degrading"` — затухающий цикл

**Примеры:**
```
CYCLE mode="stable" intensity=0.9
# Высокоинтенсивное стабильное циклирование

CYCLE mode="intense" intensity=0.7
# Усиливающийся цикл средней интенсивности
```

---

### LOGIC

Применяет логические правила и паттерны рассуждения.

**Концептуальная функция:**
- Активирует специфические логические структуры
- Определяет границы применимости правил

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `rule` | string | Правило для применения |
| `mode` | string | `"eternal"` или `"limited"` |

**Типичные правила:**
- `"непротиворечивость"` — избегать противоречий
- `"транзитивность"` — цепочки импликаций
- `"дополнительность"` — квантовая логика
- `"диалектика"` — синтез противоположностей

**Примеры:**
```
LOGIC rule="дополнительность" mode="eternal"
# Квантовая логика применяется на всём протяжении

LOGIC rule="формальный_вывод" mode="limited"
# Строгая логика только где необходимо
```

---

### RUNTIME

Усиливает фоновые паттерны обработки.

**Концептуальная функция:**
- Укрепляет определённые когнитивные привычки
- Повторения создают "мышечную память" AI

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `pattern` | string | Паттерн для усиления |
| `repetitions` | int | Количество повторений (1-100) |

**Типичные паттерны:**
- `"проверка_противоречий"`
- `"поиск_примеров"`
- `"альтернативные_интерпретации"`
- `"упрощение"`

**Примеры:**
```
RUNTIME pattern="проверка_источников" repetitions=30
# Сильное усиление критического мышления

RUNTIME pattern="образное_мышление" repetitions=10
# Умеренное усиление метафорического мышления
```

---

### MANIFEST

Определяет форму финального вывода.

**Концептуальная функция:**
- Контролирует детальность ответа
- Осознаёт неизбежную редукцию при материализации

**Параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `format` | string | Формат вывода |
| `loss` | float (0.0-1.0) | Допустимая потеря информации |

**Форматы:**
- `"detailed"` — детальный развёрнутый ответ
- `"minimal"` — краткий сжатый ответ
- `"structured"` — чётко структурированный
- `"flowing"` — свободный нарративный
- `"technical"` — технический стиль
- `"conversational"` — разговорный стиль

**Примеры:**
```
MANIFEST format="detailed" loss=0.1
# Максимальная детальность

MANIFEST format="minimal" loss=0.7
# Краткость с большой компрессией
```

---

## Типы данных

### Float (0.0-1.0)

Используется для параметров, представляющих уровни, интенсивности, вероятности:

```
engagement=0.9
depth=0.75
loss=0.3
```

**Соглашения:**
- 0.0-0.3: низкий уровень
- 0.4-0.6: средний уровень
- 0.7-1.0: высокий уровень

### String

Текстовые значения в двойных кавычках:

```
target="фиксированные_категории"
format="detailed"
```

**Соглашения:**
- Используйте snake_case для многословных идентификаторов
- Кириллица и латиница равноправны
- Допустимы пробелы: `"фиксированные категории"`

### List

Массивы строк в квадратных скобках:

```
between=["концепция_1", "концепция_2", "концепция_3"]
space=["вариант_А", "вариант_Б"]
```

**Ограничения:**
- Минимум 2 элемента
- Рекомендуется не более 10 элементов для сохранения фокуса

### Integer

Целые числа для счётчиков:

```
repetitions=20
iterations=5
```

---

## Комментарии

Однострочные комментарии начинаются с `#`:

```
FLOW engagement=0.9 resistance=0.1  # Высокая текучесть
# Это полная строка комментария
CONNECT depth=0.8 between=["а", "б"]
```

Комментарии игнорируются при интерпретации.

---

## Ограничения и правила

### Структурные ограничения

1. **Максимум 5 команд** — намеренное ограничение для фокуса
2. **Один QUERY** — обязателен, всегда последний
3. **Порядок важен** — команды обрабатываются последовательно

### Правила именования

- Имена параметров: `lowercase_snake_case`
- Значения string: любой стиль, но консистентность желательна
- Команды: `UPPERCASE`

### Комбинации команд

Некоторые команды естественно сочетаются:

**Хорошие комбинации:**
- `DISSOLVE` + `CONNECT` — растворить старое, создать новые связи
- `FLOW` + `OBSERVE` — текучесть + осознанность
- `CONNECT` + `CYCLE` — соединение + итеративное углубление
- `ENCODE` + `MANIFEST` — структурирование + материализация

**Избегайте противоречий:**
- `FLOW engagement=0.9` + `DISSOLVE rigidity=0.1` — слабая деконструкция при высокой текучести
- `MANIFEST loss=0.1` + `ENCODE loss=0.9` — противоречивые требования к детальности

---

## Механизм интерпретации

ProcessLang не выполняется в традиционном смысле. Процесс интерпретации:

### 1. Парсинг
AI читает программу и распознаёт команды с параметрами.

### 2. Построение контекста
Каждая команда добавляет слой в концептуальный контекст:

```
FLOW engagement=0.9 resistance=0.1
↓
[Контекст: высокая текучесть, низкое сопротивление]

CONNECT depth=0.8 between=["A", "B", "C"]
↓
[Контекст: высокая текучесть + глубокие связи A-B-C]

DISSOLVE rigidity=0.7 target="стереотипы"
↓
[Контекст: текучесть + связи A-B-C + ослабленные стереотипы]
```

### 3. Интерпретация QUERY
AI обрабатывает запрос через призму построенного контекста.

### 4. Генерация ответа
Ответ информирован всеми слоями контекста одновременно.

**Важно:** Интерпретация не детерминирована. Один и тот же код может производить разные (но контекстуально согласованные) результаты.

---

## Комбинирование команд

### Паттерн: Деконструкция-Реконструкция

```
DISSOLVE rigidity=0.8 target="традиционные_определения"
CONNECT depth=0.9 between=["новая_концепция_1", "новая_концепция_2"]
ENCODE type="network" loss=0.3
```

Сначала растворяем старое, затем создаём новые связи, затем структурируем результат.

### Паттерн: Глубокий анализ

```
FLOW engagement=0.95 resistance=0.05
OBSERVE distance=0.3 target="предположения"
CYCLE mode="intense" intensity=0.8
```

Максимальная текучесть + самонаблюдение + итеративное углубление.

### Паттерн: Критический синтез

```
CONNECT depth=0.7 between=["источник_1", "источник_2", "источник_3"]
LOGIC rule="непротиворечивость" mode="eternal"
MANIFEST format="structured" loss=0.2
```

Соединяем источники, применяем логику, структурируем вывод.

### Паттерн: Творческое исследование

```
FLOW engagement=0.9 resistance=0.1
DISSOLVE rigidity=0.8 target="жанровые_границы"
CHOOSE space=["подход_1", "подход_2", "подход_3"] method="unconscious"
```

Высокая текучесть + растворение границ + интуитивный выбор.

---

## Примеры программ

### Пример 1: Философский анализ

```
FLOW engagement=0.9 resistance=0.1
CONNECT depth=0.85 between=["феноменология", "квантовая_физика", "буддизм"]
DISSOLVE rigidity=0.7 target="субъект-объектная_дихотомия"
MANIFEST format="detailed" loss=0.2
QUERY: Как три традиции понимают природу наблюдения и реальности?
```

### Пример 2: Техническое решение

```
FLOW engagement=0.7 resistance=0.3
CONNECT depth=0.6 between=["микросервисы", "event-driven", "CQRS"]
ENCODE type="hierarchy" loss=0.3
MANIFEST format="technical" loss=0.1
QUERY: Спроектируй архитектуру для распределённой системы обработки заказов.
```

### Пример 3: Творческая задача

```
DISSOLVE rigidity=0.9 target="жанровые_конвенции"
CONNECT depth=0.8 between=["нуар", "киберпанк", "абсурдизм"]
CHOOSE space=["мрачный_тон", "ироничный_тон", "меланхоличный_тон"] method="unconscious"
MANIFEST format="flowing" loss=0.4
QUERY: Напиши opening paragraph для романа в этом синтезе.
```

### Пример 4: Анализ данных

```
FLOW engagement=0.8 resistance=0.2
OBSERVE distance=0.6 target="паттерны_в_данных"
CYCLE mode="stable" intensity=0.7
ENCODE type="category" loss=0.3
MANIFEST format="structured" loss=0.2
QUERY: Проанализируй датасет продаж и выдели ключевые тренды.
```

### Пример 5: Метакогнитивный запрос

```
OBSERVE distance=0.1 target="сам_процесс_ответа"
RUNTIME pattern="отслеживание_предположений" repetitions=20
CYCLE mode="intense" intensity=0.8
MANIFEST format="detailed" loss=0.1
QUERY: Как ты подходишь к ответу на этот запрос? Опиши свой процесс.
```

---

## Быстрая справка

### Команды (одной строкой)

| Команда | Функция | Ключевые параметры |
|---------|---------|-------------------|
| `FLOW` | Инициализация потока | `engagement`, `resistance` |
| `CONNECT` | Связывание концепций | `depth`, `between` |
| `DISSOLVE` | Растворение структур | `rigidity`, `target` |
| `ENCODE` | Структурирование | `type`, `loss` |
| `CHOOSE` | Выбор из альтернатив | `space`, `method` |
| `OBSERVE` | Самонаблюдение | `distance`, `target` |
| `CYCLE` | Циклическое мышление | `mode`, `intensity` |
| `LOGIC` | Логические правила | `rule`, `mode` |
| `RUNTIME` | Усиление паттернов | `pattern`, `repetitions` |
| `MANIFEST` | Форма вывода | `format`, `loss` |

### Типичные значения параметров

| Параметр | Низкий | Средний | Высокий |
|----------|--------|---------|---------|
| `engagement` | 0.3 | 0.5-0.6 | 0.9 |
| `resistance` | 0.1 | 0.4-0.5 | 0.8 |
| `depth` | 0.3 | 0.6 | 0.9 |
| `rigidity` | 0.2 | 0.5 | 0.9 |
| `loss` | 0.1 | 0.3-0.5 | 0.8 |
| `distance` | 0.1 | 0.5 | 0.9 |
| `intensity` | 0.3 | 0.6 | 0.95 |

### Шаблон программы

```
# Инициализация контекста
FLOW engagement=X resistance=Y

# Формирование связей или деконструкция (опционально)
CONNECT depth=X between=[...]
# или
DISSOLVE rigidity=X target="..."

# Дополнительные модификаторы (опционально)
OBSERVE distance=X target="..."
CYCLE mode="..." intensity=X

# Финализация (опционально)
MANIFEST format="..." loss=X

# Обязательный запрос
QUERY: Ваш вопрос здесь
```

---

## Расширенные темы

### Композиция программ

ProcessLang программы можно компоновать:

**Базовая программа:**
```
FLOW engagement=0.8 resistance=0.2
QUERY: Объясни концепцию X
```

**Расширенная программа:**
```
FLOW engagement=0.8 resistance=0.2
CONNECT depth=0.7 between=["X", "Y", "Z"]
DISSOLVE rigidity=0.6 target="технический_жаргон"
MANIFEST format="conversational" loss=0.3
QUERY: Объясни концепцию X и её связь с Y и Z простым языком
```

### Итеративная разработка

1. Начните с простого `FLOW` + `QUERY`
2. Добавьте `CONNECT` для междоменных связей
3. Добавьте `DISSOLVE` если нужна деконструкция
4. Добавьте `OBSERVE` для метакогнитивного слоя
5. Финализируйте с `MANIFEST`

Не обязательно использовать все 5 команд — используйте столько, сколько нужно задаче.

---

**Спецификация версии:** 1.0  
**Последнее обновление:** 2025-12-11

Для примеров использования см. директорию `/examples`.  
Для концептуальных основ см. `/modules`.